import{b as ue,c as b}from"./chunk-6YKWE4IU.js";import{b as y,c as w,d as ee,e as te,f as ie,g as oe,h as I,i as ne,j as re,k as ae,l as se,m as me,n as le,o as pe}from"./chunk-ZVSLJY24.js";import{a as W,c as Z,d as J,e as K,f as Q,g as X,i as Y,j as ce,k as de}from"./chunk-DHQW6UCI.js";import{Ba as j,Bb as q,Ea as m,Ia as f,M as S,Oa as c,Q as d,Sa as v,Sb as U,Ub as $,Vb as C,Y as p,Z as u,bb as A,cb as P,da as N,db as V,ea as z,fb as G,gb as O,hb as l,ib as i,jb as n,kb as a,m as R,pb as h,rb as H,tb as s,vb as B,x as D}from"./chunk-LGJWJGDP.js";var g=class e{constructor(o,t,r){this.http=o;this.storage=t;this.router=r}isLoggedIn(){return!!this.storage.getItem("authToken")}login(o){let t=`${ce.apiServer}/api/login`;return this.http.post(t,o)}storeToken(o){this.storage.setItem("authToken",o)}getToken(){return this.storage.getItem("authToken")}logout(){this.storage.removeItem("authToken"),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)(d(Z),d(de),d(w))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};function be(e,o){e&1&&(p(),i(0,"svg",13),a(1,"path",35)(2,"path",36),n())}function xe(e,o){e&1&&(p(),i(0,"svg",13),a(1,"path",37),n())}var _=class e{constructor(o,t,r){this.authService=o;this.fb=t;this.router=r}loginForm;showPassword=!1;togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(this.authService.isLoggedIn()){this.router.navigate(["order-list"]);return}this.loginForm=this.fb.group({username:["",[I.required]],password:["",[I.required,I.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){let o={username:this.loginForm.value.username,password:this.loginForm.value.password};this.authService.login(o).subscribe({next:t=>{console.log("Login successful",t),this.authService.storeToken(t.token),this.router.navigate(["order-list"])},error:t=>{console.error("Login failed",t)}})}else console.log("Form is invalid")}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}static \u0275fac=function(t){return new(t||e)(f(g),f(le),f(w))};static \u0275cmp=c({type:e,selectors:[["app-login"]],decls:52,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-b","from-white","to-blue-50","px-4"],[1,"w-full","max-w-sm","bg-white","p-6","rounded-2xl","shadow-lg"],[1,"text-center","mb-6"],["src","https://opticvilla.com/assets/images/opticvilla-logo.png","alt","Logo",1,"h-10","mx-auto","mb-2"],[1,"text-xl","font-semibold"],[1,"text-sm","text-gray-500"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","username",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","username","formControlName","username","type","text","placeholder","Enter your username",1,"w-full","px-4","py-2","border","border-gray-300","rounded-full","focus:outline-none","focus:ring-2","focus:ring-orange-400"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"relative"],["id","password","formControlName","password","placeholder","Enter your password",1,"w-full","px-4","py-2","border","border-gray-300","rounded-full","focus:outline-none","focus:ring-2","focus:ring-orange-400",3,"type"],[1,"absolute","inset-y-0","right-0","pr-3","flex","items-center","cursor-pointer","text-gray-500","hover:text-blue-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5"],[1,"flex","items-center","justify-between","text-sm"],[1,"flex","items-center","space-x-2"],["type","checkbox",1,"accent-orange-500"],["href","#",1,"text-orange-600","hover:underline"],["type","submit",1,"w-full","bg-orange-500","hover:bg-orange-600","text-white","font-semibold","py-2","rounded-full","transition"],[1,"flex","items-center","my-5"],[1,"flex-grow","border-t","border-gray-300"],[1,"mx-2","text-gray-400","text-sm"],[1,"flex","justify-center","space-x-4","mb-4"],[1,"bg-gray-100","p-2","rounded-full"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 384 512",1,"h-5","w-5","fill-current","text-gray-700"],["d","M318.7 268.6c-.3-37.2 16.5-65.5 52.4-86.2-19.6-28.4-49.4-44.3-89.2-47-37.4-2.5-78 22.4-92.1 22.4-14.5 0-60.8-21.7-88.4-21.7C47.7 136.1 0 180.1 0 262.6c0 32.6 6.5 66.7 19.6 102.2C45 429.7 89.6 472 138.6 471.2c28.6-.4 49.4-20 84.2-20 34.1 0 53.8 20 85.5 20 49.1.4 89.1-42.4 113.6-106.4-66.9-31.6-62.5-93.5-63.2-96.2zm-81.6-182.6c16.6-20.2 28-48.5 24.8-76.9-24.1 1.1-52.5 16-69.2 36.2-15.2 18.1-28.5 47.2-25 74.8 26.4 2.1 52.8-13.4 69.4-34.1z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"h-5","w-5"],["fill","#fbc02d","d","M43.6 20.5H42V20H24v8h11.3C33.9 33.2 29.5 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.7 1.1 7.7 3l5.7-5.7C33.4 6.1 28.9 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20 20-8.9 20-20c0-1.2-.1-2.3-.4-3.5z"],["fill","#e53935","d","M6.3 14.7l6.6 4.8C14.2 16.1 18.8 13 24 13c3 0 5.7 1.1 7.7 3l5.7-5.7C33.4 6.1 28.9 4 24 4 16.1 4 9.2 8.5 6.3 14.7z"],["fill","#4caf50","d","M24 44c5.3 0 10.1-2 13.7-5.3l-6.4-5.3C29.7 34.9 27 36 24 36c-5.5 0-9.9-3.7-11.3-8.5l-6.6 5.1C9.1 39.1 16 44 24 44z"],["fill","#1565c0","d","M43.6 20.5H42V20H24v8h11.3c-1.3 3.6-4.3 6.4-8.1 7.5l6.4 5.3c-1.8 1.2-4.2 2.2-6.6 2.2-8 0-14.9-4.9-17.6-11.8l6.6-5.1C14.1 30.3 18.5 34 24 34c5.5 0 10.2-3.5 11.9-8.2L43.6 20.5z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512",1,"h-5","w-5","fill-current","text-blue-600"],["d","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0C141.09 0 89.09 54.42 89.09 154.54v61.8H0v92.66h89.09V512h107.82V288z"],[1,"text-center","text-sm","text-gray-600"],["href","#",1,"text-orange-600","hover:underline","font-medium"],["d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["d","M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["d","M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.963 9.963 0 012.51-4.156M6.48 6.48A9.953 9.953 0 0112 5c4.477 0 8.268 2.943 9.542 7a9.973 9.973 0 01-1.73 3.002M3 3l18 18"]],template:function(t,r){t&1&&(i(0,"main",0)(1,"div",1)(2,"div",2),a(3,"img",3),i(4,"h2",4),s(5,"Welcome Back!"),n(),i(6,"p",5),s(7,"Access your dashboard and manage everything from one place."),n()(),i(8,"form",6),h("ngSubmit",function(){return r.onSubmit()}),i(9,"div")(10,"label",7),s(11,"Username"),n(),a(12,"input",8),n(),i(13,"div")(14,"label",9),s(15,"Password"),n(),i(16,"div",10),a(17,"input",11),i(18,"span",12),h("click",function(){return r.togglePassword()}),A(19,be,3,0,":svg:svg",13)(20,xe,2,0,":svg:svg",13),n()()(),i(21,"div",14)(22,"label",15),a(23,"input",16),i(24,"span"),s(25,"Remember me"),n()(),i(26,"a",17),s(27,"Forgot password"),n()(),i(28,"button",18),s(29," Login "),n()(),i(30,"div",19),a(31,"div",20),i(32,"span",21),s(33,"Or"),n(),a(34,"div",20),n(),i(35,"div",22)(36,"button",23),p(),i(37,"svg",24),a(38,"path",25),n()(),u(),i(39,"button",23),p(),i(40,"svg",26),a(41,"path",27)(42,"path",28)(43,"path",29)(44,"path",30),n()(),u(),i(45,"button",23),p(),i(46,"svg",31),a(47,"path",32),n()()(),u(),i(48,"p",33),s(49," Don\u2019t have an account? "),i(50,"a",34),s(51,"Sign UP"),n()()()()),t&2&&(m(8),l("formGroup",r.loginForm),m(9),l("type",r.showPassword?"text":"password"),m(2),P(r.showPassword?20:19))},dependencies:[pe,ae,oe,ne,re,se,me],encapsulation:2})};function Se(e,o){e&1&&(i(0,"span",13),s(1,"Opticvilla"),n())}function Ce(e,o){e&1&&(p(),a(0,"path",14))}function ye(e,o){e&1&&(p(),a(0,"path",15))}function we(e,o){if(e&1&&(i(0,"span"),s(1),n()),e&2){let t=H().$implicit;m(),B(" ",t.name," ")}}function Ie(e,o){if(e&1&&(i(0,"a",11),a(1,"span",16),v(2,we,2,1,"span",17),n()),e&2){let t=o.$implicit,r=H();l("routerLink",t.link),m(),l("innerHTML",t.icon,j),m(),l("ngIf",!r.isCollapsed)}}function _e(e,o){e&1&&(i(0,"div",18),s(1," v1.0.0 "),n())}var M=class e{constructor(o){this.sanitizer=o;this.navItems=[{name:"Dashboard",link:"/dashboard",icon:this.sanitizer.bypassSecurityTrustHtml(ue)},{name:"Orders List",link:"/order-list",icon:this.sanitizer.bypassSecurityTrustHtml(b)},{name:"Eyeglasses",link:"products/eyeglasses",icon:this.sanitizer.bypassSecurityTrustHtml(b)},{name:"Sunglasses",link:"products/sunglasses",icon:this.sanitizer.bypassSecurityTrustHtml(b)},{name:"Contact Lenses",link:"products/contact-lense",icon:this.sanitizer.bypassSecurityTrustHtml(b)}]}isCollapsed=!1;navItems;toggleSidebar(){console.log("clicked"),this.isCollapsed=!this.isCollapsed}static \u0275fac=function(t){return new(t||e)(f(Y))};static \u0275cmp=c({type:e,selectors:[["app-sidebar"]],decls:16,vars:5,consts:[[1,"flex","h-screen","bg-gray-100"],["id","sidebar",1,"bg-white","p-4","flex","flex-col","justify-between","transition-all","duration-300",3,"ngClass"],[1,"flex","items-center","justify-between","mb-6"],[1,"flex","items-center","gap-2"],[1,"w-10","h-10","bg-black","rounded-full","flex","items-center","justify-center","text-white","text-xl","font-bold"],["class","text-xl font-semibold text-gray-800",4,"ngIf"],[1,"text-gray-600","hover:text-black","cursor-pointer",3,"click"],["fill","none","stroke","currentColor","stroke-width","2","viewBox","0 0 24 24",1,"w-5","h-5"],["d","M15 19l-7-7 7-7",4,"ngIf"],["d","M9 5l7 7-7 7",4,"ngIf"],[1,"flex","flex-col","gap-2"],[1,"text-gray-900","font-medium","flex","items-center","gap-2","p-2","rounded-lg","hover:bg-gray-100","cursor-pointer",3,"routerLink"],["class","text-sm text-gray-400 text-center mt-6",4,"ngIf"],[1,"text-xl","font-semibold","text-gray-800"],["d","M15 19l-7-7 7-7"],["d","M9 5l7 7-7 7"],[3,"innerHTML"],[4,"ngIf"],[1,"text-sm","text-gray-400","text-center","mt-6"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"div",4),s(6,"O"),n(),v(7,Se,2,0,"span",5),n(),i(8,"button",6),h("click",function(){return r.toggleSidebar()}),p(),i(9,"svg",7),v(10,Ce,1,0,"path",8)(11,ye,1,0,"path",9),n()()(),u(),i(12,"nav",10),G(13,Ie,3,3,"a",11,V),n()(),v(15,_e,2,0,"div",12),n()()),t&2&&(m(),l("ngClass",r.isCollapsed?"w-20":"w-64"),m(6),l("ngIf",!r.isCollapsed),m(3),l("ngIf",!r.isCollapsed),m(),l("ngIf",r.isCollapsed),m(2),O(r.navItems),m(2),l("ngIf",!r.isCollapsed))},dependencies:[C,U,$,ie,ee],encapsulation:2})};var k=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-main"]],decls:4,vars:0,consts:[[1,"flex","h-screen"],[1,"flex-1","overflow-auto"]],template:function(t,r){t&1&&(i(0,"div",0),a(1,"app-sidebar"),i(2,"div",1),a(3,"router-outlet"),n()())},dependencies:[C,y,M],encapsulation:2})};var ve=[{path:"login",component:_},{path:"",component:k,children:[{path:"dashboard",loadComponent:()=>import("./chunk-UGOEM3EO.js").then(e=>e.DashboardComponent)},{path:"order-list",loadComponent:()=>import("./chunk-NCP4VOGG.js").then(e=>e.OrderListComponent)},{path:"products",loadChildren:()=>import("./chunk-RCESA2MX.js").then(e=>e.ProductsModule)},{path:"",redirectTo:"order-list",pathMatch:"full"}]}];var E=class e{constructor(o){this.auth=o}intercept(o,t){return t.handle(o).pipe(D(r=>(r.status===401&&this.auth.logout(),R(()=>r))))}static \u0275fac=function(t){return new(t||e)(d(g))};static \u0275prov=S({token:e,factory:e.\u0275fac})};var he={providers:[N(),q(),K(Q(),X()),{provide:J,useClass:E,multi:!0},te(ve)]};var T=class e{title=z("admin-panel");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&a(0,"router-outlet")},dependencies:[y],encapsulation:2})};W(T,he).catch(e=>console.error(e));
