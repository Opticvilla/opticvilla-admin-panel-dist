import{a as R,d as B}from"./chunk-6YKWE4IU.js";import{a as V}from"./chunk-YWGRZHRR.js";import{c as z,i as k,j as A}from"./chunk-3QPBZI5A.js";import{Ba as u,Da as a,Fb as M,Ha as c,M as f,Na as S,Q as h,Ra as y,Rb as F,Sb as j,Ub as N,W as b,X as v,ab as O,bb as C,cb as _,eb as E,fb as P,gb as s,hb as e,ib as r,jb as p,nb as w,ob as I,qb as l,rb as T,sb as i,tb as m,ub as x,vb as H,xb as L,yb as D}from"./chunk-LL7WQ37V.js";var g=class o extends V{constructor(t){super();this.http=t}getAll(){this.configure();let t=`${A.apiServer}/api/order/list`;return this.http.get(t,{headers:this.headers})}static \u0275fac=function(d){return new(d||o)(h(z))};static \u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"})};var K=()=>[],Q=(o,n,t)=>({"bg-yellow-100 text-yellow-700":o,"bg-green-100 text-green-700":n,"bg-red-100 text-red-700":t});function W(o,n){if(o&1&&(e(0,"tr",23)(1,"td",24),i(2),r(),e(3,"td",24),i(4),r(),e(5,"td",24),i(6),r(),e(7,"td",24)(8,"span",25),i(9),r()(),e(10,"td",24),i(11),r(),e(12,"td",24),i(13),r(),e(14,"td",26)(15,"button",27),p(16,"span",28),r(),e(17,"button",29),p(18,"span",30),r()()()),o&2){let t=n.$implicit,d=l(2);a(2),m("#"+t.id),a(2),m(t.first_name+" "+t.last_name),a(2),m(t.created_at),a(2),s("ngClass",D(9,Q,t.status==="PENDING",t.status==="PLACED",t.status==="FAILED")),a(),x(" ",t.status," "),a(2),x("\u20B9",t.price),a(2),m(t.status),a(3),s("innerHTML",d.editIcon,u),a(2),s("innerHTML",d.trashIcon,u)}}function X(o,n){if(o&1&&E(0,W,19,13,"tr",23,_),o&2){let t=l();P(t.paginatedOrders)}}function Y(o,n){o&1&&(e(0,"tr")(1,"td",31),i(2,"No orders found."),r()())}function Z(o,n){if(o&1){let t=w();e(0,"button",32),I("click",function(){let G=b(t).index,U=l();return v(U.setPage(G+1))}),i(1),r()}if(o&2){let t=n.index,d=l();T("bg-blue-600",d.currentPage===t+1)("text-white",d.currentPage===t+1),a(),x(" ",t+1," ")}}var $=class o{constructor(n,t,d){this.orderService=n;this.sanitizer=t;this.cdr=d;this.editIcon=this.sanitizer.bypassSecurityTrustHtml(R),this.trashIcon=this.sanitizer.bypassSecurityTrustHtml(B)}ordersPerPage=10;currentPage=1;selectedOrders=new Set;editIcon;trashIcon;orders=[];ngOnInit(){this.orderService.getAll().subscribe(n=>{this.orders=n,this.cdr.detectChanges()})}get paginatedOrders(){let n=(this.currentPage-1)*this.ordersPerPage;return this.orders.slice(n,n+this.ordersPerPage)}toggleOrder(n){this.selectedOrders.has(n)?this.selectedOrders.delete(n):this.selectedOrders.add(n)}isSelected(n){return this.selectedOrders.has(n)}totalPages(){return Math.ceil(this.orders.length/this.ordersPerPage)}setPage(n){this.currentPage=n}static \u0275fac=function(t){return new(t||o)(c(g),c(k),c(M))};static \u0275cmp=S({type:o,selectors:[["app-order-list"]],decls:53,vars:6,consts:[[1,"space-y-6","p-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-white","rounded-xl","p-4","shadow","border-l-4","border-indigo-500"],[1,"text-gray-600","text-sm"],[1,"text-2xl","font-bold","text-indigo-700"],[1,"bg-white","rounded-xl","p-4","shadow","border-l-4","border-yellow-500"],[1,"text-2xl","font-bold","text-yellow-700"],[1,"bg-white","rounded-xl","p-4","shadow","border-l-4","border-green-500"],[1,"text-2xl","font-bold","text-green-700"],[1,"bg-white","rounded-xl","p-4","shadow","border-l-4","border-red-500"],[1,"text-2xl","font-bold","text-red-700"],[1,"flex","flex-wrap","justify-between","items-center","gap-4"],[1,"flex","gap-2"],[1,"bg-black","text-white","px-4","py-2","rounded-md","text-sm","hover:bg-gray-900"],[1,"bg-white","p-6","rounded-xl","shadow-md"],[1,"overflow-x-auto"],[1,"min-w-full","text-sm","text-left"],[1,"text-gray-600","uppercase","border-b"],[1,"px-2","py-3"],[1,"mt-4","flex","justify-between","items-center"],[1,"text-sm","text-gray-600"],[1,"flex","space-x-1"],["class","px-3 py-1 rounded border text-sm hover:bg-blue-500",3,"bg-blue-600","text-white","click",4,"ngFor","ngForOf"],[1,"border-b","hover:bg-gray-50"],[1,"px-2","py-2"],[1,"px-2","py-1","rounded","text-xs","font-semibold",3,"ngClass"],[1,"px-2","py-2","space-x-2"],["title","edit",1,"text-blue-600","hover:underline"],[1,"text-green-500",3,"innerHTML"],["title","delete",1,"text-red-600","hover:underline"],[1,"text-red-400",3,"innerHTML"],["colspan","7",1,"px-2","py-4","text-center","text-gray-500"],[1,"px-3","py-1","rounded","border","text-sm","hover:bg-blue-500",3,"click"]],template:function(t,d){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i(4,"Total Orders This Month"),r(),e(5,"div",4),i(6,"200"),r()(),e(7,"div",5)(8,"div",3),i(9,"Pending Orders"),r(),e(10,"div",6),i(11,"20"),r()(),e(12,"div",7)(13,"div",3),i(14,"Shipped Orders"),r(),e(15,"div",8),i(16,"180"),r()(),e(17,"div",9)(18,"div",3),i(19,"Refunded Orders"),r(),e(20,"div",10),i(21,"10"),r()()(),e(22,"div",11),p(23,"div",12),e(24,"button",13),i(25,"Show Filters"),r()(),e(26,"div",14)(27,"div",15)(28,"table",16)(29,"thead",17)(30,"tr")(31,"th",18),i(32,"Order Number"),r(),e(33,"th",18),i(34,"Customer Name"),r(),e(35,"th",18),i(36,"Order Date"),r(),e(37,"th",18),i(38,"Status"),r(),e(39,"th",18),i(40,"Total Amount"),r(),e(41,"th",18),i(42,"Payment Status"),r(),e(43,"th",18),i(44,"Action"),r()()(),e(45,"tbody"),O(46,X,2,0)(47,Y,3,0,"tr"),r()()(),e(48,"div",19)(49,"div",20),i(50),r(),e(51,"div",21),y(52,Z,2,5,"button",22),r()()()()),t&2&&(a(46),C(d.orders.length>0?46:47),a(4),H(" Showing ",(d.currentPage-1)*d.ordersPerPage+1," - ",d.currentPage*d.ordersPerPage," of ",d.orders.length," entries "),a(2),s("ngForOf",L(5,K).constructor(d.totalPages())))},dependencies:[N,F,j],styles:[".pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;padding:10px}button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer}button[disabled][_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}"]})};export{$ as OrderListComponent};
